<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Product Detail</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="site-header">
    <h1>Product Details</h1>
  </header>

  <main style="max-width:900px;margin:18px auto;padding:18px;">
    <div id="productDetail" class="product-detail"></div>
  </main>

  <script>
    const pd = document.getElementById('productDetail');
    const raw = localStorage.getItem('regalia_current_product');
    if(!raw){
      pd.innerHTML = '<p>No product selected. Go back to the catalog and click "View Product".</p>';
    } else {
      const p = JSON.parse(raw);
      pd.innerHTML = `
        <div style="display:flex;gap:18px;flex-wrap:wrap;">
          <div style="flex:1;min-width:280px">
            <img src="${p.img||'data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22400%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23ddd%22/><text x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 fill=%22888%22 font-size=%2220%22>No image</text></svg>'}" style="width:100%;border-radius:10px;object-fit:cover" alt="${escapeHtml(p.title)}" />
          </div>
          <div style="flex:1.2;min-width:280px">
            <h2 style="color:#8B4513">${escapeHtml(p.title)}</h2>
            <p style="font-weight:700;color:#006400;font-size:20px">${escapeHtml(p.salePrice || p.price)} ${p.salePrice ? '<span style="text-decoration:line-through;color:#999;margin-left:10px;font-weight:400">'+escapeHtml(p.price)+'</span>':''}</p>
            <p style="color:#444">${escapeHtml(p.desc)}</p>
            <h4>Fabric & Details</h4>
            <ul>
              <li>Material: High quality cotton blend</li>
              <li>Care: Machine wash cold, hang dry</li>
              <li>Features: Durable print, comfortable fit</li>
            </ul>
            <div style="margin-top:12px">
              <a href="${p.orderLink || '#'}" class="order-btn" target="_blank">Order via WhatsApp</a>
            </div>
          </div>
        </div>
      `;
    }
    function escapeHtml(s){ return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
  </script>
</body>
</html>